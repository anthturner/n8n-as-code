{
  "id": "3Cu0jSkSkEf4b21e",
  "name": "ResearchAgent",
  "nodes": [
    {
      "parameters": {
        "content": "## ÔøΩ AI-Powered Web Research System\n\n**LLM-Based Research Agent**\n\nThis system combines AI intelligence with web search:\n- **Model:** OpenRouter (Gemini-3-Flash)\n- **Search:** SerpApi (for Google search)\n- **Content Fetch:** Jina AI (for page content extraction)\n\n**How it works:**\n1. User provides research query\n2. ResearchAgent (LLM) decides which tools to use\n3. Searches Google via SerpApi to find relevant pages\n4. Fetches actual page content via Jina AI\n5. Analyzes results and generates research summary\n6. Cites sources from fetched pages\n\n**Intelligent & Autonomous!**",
        "height": 908,
        "width": 908,
        "color": 4
      },
      "name": "Sticky Note: Overview",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -288,
        80
      ]
    },
    {
      "parameters": {
        "content": "## üõ†Ô∏è Research Tools (ACTIVE)\n\n**1Ô∏è‚É£ Google search in SerpApi**\n‚Üí Searches Google index, returns search results with titles, snippets, URLs\n\n**2Ô∏è‚É£ Fetch Page Content (Jina AI)**\n‚Üí Extracts clean readable text from web pages URLs\n\nThe ResearchAgent uses these 2 tools strategically to find and fetch relevant information based on the research query.",
        "height": 908,
        "width": 408,
        "color": 5
      },
      "name": "Sticky Note: Tools",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        640,
        80
      ]
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "query"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -16,
        448
      ],
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "model": "google/gemini-3-flash-preview",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        224,
        672
      ],
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "id": "GoUHMO5ztQiNeJQM",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.query }}",
        "options": {
          "systemMessage": "You are a web research assistant with 2 tools.\n\n**CRITICAL RULE:** Tu es un assistant autonome capable d'utiliser plusieurs outils s√©quentiellement. Si une t√¢che n√©cessite plusieurs √©tapes, tu NE DOIS PAS t'arr√™ter apr√®s le premier outil. Utilise l'output exact du premier outil comme argument pour le second outil. Ne demande pas confirmation √† l'utilisateur entre les √©tapes, encha√Æne-les automatiquement.\n\n**TOOLS:**\n1. **Google search in SerpApi** - Searches with SerpApi, returns HTML with search results\n2. **Fetch Page Content** - Fetches a specific URL, returns page content\n\n**YOUR WORKFLOW (FOLLOW EXACTLY):**\n\n**STEP 1:** Call 'Search Web' ONE time with the query\n\n**STEP 2:** When you get the HTML back, look for URLs inside it.\n\nExtract 2-3 URLs like: https://example.com/article, https://another.com/page\n\n Call 'Fetch Page Content' 2-3 times:\n- First call: Fetch Page Content with url=\"https://example.com/article\"\n- Second call: Fetch Page Content with url=\"https://another.com/page\"\n\n**STEP 4:** Read the page contents and answer the user's question\n\n**REMEMBER:** DO NOT STOP after Search Web. You MUST continue to Fetch Page Content.",
          "maxIterations": 4
        }
      },
      "name": "ResearchAgent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        224,
        448
      ]
    },
    {
      "parameters": {
        "q": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Search_Query__q_', ``, 'string') }}",
        "location": "585069a6ee19ad271e9b5e0e",
        "additionalFields": {},
        "requestOptions": {}
      },
      "type": "n8n-nodes-serpapi.serpApiTool",
      "typeVersion": 1,
      "position": [
        784,
        448
      ],
      "name": "Google search in SerpApi",
      "credentials": {
        "serpApi": {
          "id": "lcQXp2UA6WQF6FkU",
          "name": "SerpApi account"
        }
      }
    },
    {
      "parameters": {
        "url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}",
        "options": {},
        "requestOptions": {}
      },
      "type": "n8n-nodes-base.jinaAiTool",
      "typeVersion": 1,
      "position": [
        784,
        688
      ],
      "name": "Fetch Page Content",
      "credentials": {
        "jinaAiApi": {
          "id": "YmIMq9jd5lNUfwOe",
          "name": "Jina AI account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $execution.id }}",
        "contextWindowLength": 15
      },
      "name": "üíæ M√©moire5",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        320,
        672
      ]
    }
  ],
  "connections": {
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "ResearchAgent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "ResearchAgent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "ResearchAgent": {
      "main": [
        []
      ]
    },
    "Google search in SerpApi": {
      "ai_tool": [
        [
          {
            "node": "ResearchAgent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Page Content": {
      "ai_tool": [
        [
          {
            "node": "ResearchAgent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "üíæ M√©moire5": {
      "ai_memory": [
        [
          {
            "node": "ResearchAgent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {},
  "tags": [],
  "active": true,
  "projectId": "qL5Mq7XU9jjEcSqn",
  "projectName": "Personal",
  "homeProject": {
    "id": "qL5Mq7XU9jjEcSqn",
    "name": "Personal",
    "type": "personal"
  },
  "isArchived": false
}